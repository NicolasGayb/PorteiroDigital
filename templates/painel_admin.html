<!-- painel_admin.html -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel do Administrador</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body style="background: #f4f4f4;">
  <div class="container d-flex flex-column align-items-center justify-content-center" style="min-height: 100vh;">
    <div class="text-center mb-4">
      <i class="bi bi-building" style="font-size: 2.5rem; color: #4da3ff;"></i>
      <h1 class="fw-bold" style="color: #4da3ff; font-size: 2rem;">Porteiro Digital</h1>
    </div>
    <div class="bg-white p-4 rounded-4 shadow-sm" style="width: 100%; max-width: 900px;">
      <h3 class="fw-bold mb-3 text-center" style="color: #222;">Painel do Administrador</h3>
      <div class="card border-0 shadow-sm mb-4">
        <div class="card-body">
          <h5 class="card-title fw-bold">Usuários cadastrados</h5>
          <div class="table-responsive">
            <table class="table align-middle">
              <thead class="table-light">
                <tr>
                  <th>Nome</th>
                  <th>Email</th>
                  <th>Tipo</th>
                  <th>Ações</th>
                </tr>
              </thead>
              <tbody>
                {% for user in usuarios %}
                  <tr id="linha-{{ user.id }}">
                    <!-- Campo de Nome com 'disabled' para evitar edição direta -->
                    <td>
                      <input type="text" class="form-control form-control-sm bg-light rounded-3" 
                             value="{{ user.nome }}" id="nome-{{ user.id }}" disabled>
                    </td>
                
                    <!-- Campo de Email -->
                    <td>
                      <input type="email" class="form-control form-control-sm bg-light rounded-3" 
                             value="{{ user.email }}" id="email-{{ user.id }}" disabled>
                    </td>
                
                    <!-- Campo de Tipo como um select dropdown -->
                    <td>
                      <select class="form-select form-select-sm bg-light rounded-3" id="tipo-{{ user.id }}" disabled>
                        <option value="Administrador" {% if user.tipo == 'Administrador' %}selected{% endif %}>Administrador</option>
                        <option value="Proprietario" {% if user.tipo == 'Proprietario' %}selected{% endif %}>Proprietário</option>
                        <option value="Condomino" {% if user.tipo == 'Condomino' %}selected{% endif %}>Condomino</option>
                        <option value="Zelador" {% if user.tipo == 'Zelador' %}selected{% endif %}>Zelador</option>
                      </select>
                    </td>
                
                    <!-- Botões de ação: Editar, Salvar e Excluir -->
                    <td>
                      <button class="btn btn-sm btn-warning" id="editar-{{ user.id }}" onclick="editarUsuario({{ user.id }})">Editar</button>
                      <button class="btn btn-sm btn-success d-none" id="salvar-{{ user.id }}" onclick="salvarUsuario({{ user.id }})">Salvar</button>
                      <button class="btn btn-sm btn-secondary d-none" id="cancelar-{{ user.id }}" onclick="cancelarEdicao({{ user.id }})">Cancelar</button>
                      <a href="/excluir/{{ user.id }}" class="btn btn-sm btn-danger">Excluir</a>
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
